{"openapi":"3.0.1","info":{"title":"StugyGroup manipulator","version":"1.0"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"Authentication Controller","description":"API для регистрации и аутентификации пользователей"},{"name":"Coordinates Manipulation Controller","description":"API для управления объектами Coordinates в коллекции"},{"name":"User Controller","description":"Панель обычного пользователя"},{"name":"StudyGroup Manipulation Controller","description":"API для управления объектами StudyGroup в коллекции"},{"name":"Admin Controller","description":"Панель администратора"},{"name":"Location Manipulation Controller","description":"API для управления объектами Location в коллекции"},{"name":"Person Manipulation Controller","description":"API для управления объектами Person в коллекции"}],"paths":{"/api/collection/studyGroup":{"get":{"tags":["StudyGroup Manipulation Controller"],"operationId":"getAllStudyGroups","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"id"}},{"name":"sortDirection","in":"query","required":false,"schema":{"type":"string","default":"asc"}},{"name":"groupName","in":"query","required":false,"schema":{"type":"string"}},{"name":"adminName","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageStudyGroupResponse"}}}}}},"put":{"tags":["StudyGroup Manipulation Controller"],"operationId":"updateStudyGroup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStudyGroupRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StudyGroupResponse"}}}}}},"post":{"tags":["StudyGroup Manipulation Controller"],"operationId":"createStudyGroup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StudyGroupRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StudyGroupResponse"}}}}}}},"/api/admin/proposal/{userId}":{"put":{"tags":["Admin Controller"],"operationId":"approveAdminProposal","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/api/user/proposal":{"post":{"tags":["User Controller"],"operationId":"becomeAdmin","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AdminProposalResponse"}}}}}}},"/api/collection/person":{"get":{"tags":["Person Manipulation Controller"],"operationId":"getAllPersons","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PersonResponse"}}}}}}},"post":{"tags":["Person Manipulation Controller"],"operationId":"createPerson","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PersonResponse"}}}}}}},"/api/collection/location":{"get":{"tags":["Location Manipulation Controller"],"operationId":"getAllPersons_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LocationResponse"}}}}}}},"post":{"tags":["Location Manipulation Controller"],"operationId":"createPerson_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LocationResponse"}}}}}}},"/api/collection/coordinates":{"get":{"tags":["Coordinates Manipulation Controller"],"operationId":"getAllCoordinates","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoordinatesResponse"}}}}}}},"post":{"tags":["Coordinates Manipulation Controller"],"operationId":"createCoordinates","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoordinatesRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CoordinatesResponse"}}}}}}},"/api/auth/register":{"post":{"tags":["Authentication Controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[]}},"/api/auth/login":{"post":{"tags":["Authentication Controller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/JwtResponse"}}}}},"security":[]}},"/api/user/me":{"get":{"tags":["User Controller"],"operationId":"me","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/api/collection/studyGroup/{id}":{"get":{"tags":["StudyGroup Manipulation Controller"],"operationId":"getStudyGroups","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StudyGroupResponse"}}}}}},"delete":{"tags":["StudyGroup Manipulation Controller"],"operationId":"deleteStudyGroup","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StudyGroupResponse"}}}}}}},"/api/admin/proposal":{"get":{"tags":["Admin Controller"],"operationId":"getAdminProposals","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AdminProposalResponse"}}}}}}}}},"components":{"schemas":{"UpdateStudyGroupRequest":{"required":["coordinatesId","expelledStudents","formOfEducation","id","name","semester","studentsCount","transferredStudents"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"coordinatesId":{"type":"integer","format":"int64"},"studentsCount":{"type":"integer","format":"int32"},"expelledStudents":{"type":"integer","format":"int32"},"transferredStudents":{"type":"integer","format":"int32"},"formOfEducation":{"type":"string","enum":["DISTANCE_EDUCATION","FULL_TIME_EDUCATION","EVENING_CLASSES"]},"shouldBeExpelled":{"type":"integer","format":"int32"},"semester":{"type":"string","enum":["FIRST","SECOND","SEVENTH","EIGHTH"]},"groupAdminId":{"type":"integer","format":"int64"}}},"Coordinates":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"x":{"type":"number","format":"float"},"y":{"type":"integer","format":"int64"}}},"Location":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"x":{"type":"number","format":"float"},"y":{"type":"number","format":"double"},"z":{"type":"number","format":"float"},"name":{"type":"string"}}},"Person":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"eyeColor":{"type":"string","enum":["RED","BLACK","BLUE","BROWN"]},"hairColor":{"type":"string","enum":["RED","BLACK","BLUE","BROWN"]},"location":{"$ref":"#/components/schemas/Location"},"weight":{"type":"number","format":"double"},"nationality":{"type":"string","enum":["FRANCE","SPAIN","SOUTH_KOREA","JAPAN"]}}},"StudyGroupResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"coordinates":{"$ref":"#/components/schemas/Coordinates"},"creationDate":{"type":"string","format":"date-time"},"studentsCount":{"type":"integer","format":"int32"},"expelledStudents":{"type":"integer","format":"int32"},"transferredStudents":{"type":"integer","format":"int32"},"formOfEducation":{"type":"string","enum":["DISTANCE_EDUCATION","FULL_TIME_EDUCATION","EVENING_CLASSES"]},"shouldBeExpelled":{"type":"integer","format":"int32"},"semesterEnum":{"type":"string","enum":["FIRST","SECOND","SEVENTH","EIGHTH"]},"groupAdmin":{"$ref":"#/components/schemas/Person"},"user":{"$ref":"#/components/schemas/UserResponse"}}},"UserResponse":{"type":"object","properties":{"username":{"type":"string"},"role":{"type":"string","enum":["ADMIN","DEFAULT"]}}},"AdminProposalResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"user":{"$ref":"#/components/schemas/UserResponse"}}},"StudyGroupRequest":{"required":["coordinatesId","expelledStudents","formOfEducation","name","semester","studentsCount","transferredStudents"],"type":"object","properties":{"name":{"type":"string"},"coordinatesId":{"type":"integer","format":"int64"},"studentsCount":{"type":"integer","format":"int32"},"expelledStudents":{"type":"integer","format":"int32"},"transferredStudents":{"type":"integer","format":"int32"},"formOfEducation":{"type":"string","enum":["DISTANCE_EDUCATION","FULL_TIME_EDUCATION","EVENING_CLASSES"]},"shouldBeExpelled":{"type":"integer","format":"int32"},"semester":{"type":"string","enum":["FIRST","SECOND","SEVENTH","EIGHTH"]},"groupAdminId":{"type":"integer","format":"int64"},"isEditable":{"type":"boolean"}}},"PersonRequest":{"required":["eyeColor","locationId","name","weight"],"type":"object","properties":{"name":{"type":"string"},"eyeColor":{"type":"string","enum":["RED","BLACK","BLUE","BROWN"]},"hairColor":{"type":"string","enum":["RED","BLACK","BLUE","BROWN"]},"locationId":{"type":"integer","format":"int64"},"weight":{"type":"number","format":"double"},"nationality":{"type":"string","enum":["FRANCE","SPAIN","SOUTH_KOREA","JAPAN"]}}},"PersonResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"eyeColor":{"type":"string","enum":["RED","BLACK","BLUE","BROWN"]},"hairColor":{"type":"string","enum":["RED","BLACK","BLUE","BROWN"]},"location":{"$ref":"#/components/schemas/Location"},"weight":{"type":"number","format":"double"},"nationality":{"type":"string","enum":["FRANCE","SPAIN","SOUTH_KOREA","JAPAN"]}}},"LocationRequest":{"required":["name","x","y","z"],"type":"object","properties":{"x":{"type":"number","format":"float"},"y":{"type":"number","format":"double"},"z":{"type":"number","format":"float"},"name":{"type":"string"}}},"LocationResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"x":{"type":"number","format":"float"},"y":{"type":"number","format":"double"},"z":{"type":"number","format":"float"},"name":{"type":"string"}}},"CoordinatesRequest":{"required":["x","y"],"type":"object","properties":{"x":{"type":"number","format":"float"},"y":{"type":"integer","format":"int64"}}},"CoordinatesResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"x":{"type":"number","format":"float"},"y":{"type":"integer","format":"int64"}}},"RegisterUserDto":{"required":["password"],"type":"object","properties":{"username":{"type":"string","description":"Юзернейм","example":"azat222"},"password":{"type":"string","description":"Пароль пользователя","example":"P@ssw0rd"}}},"JwtDto":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string","description":"Пароль пользователя","example":"P@ssw0rd"}}},"JwtResponse":{"type":"object","properties":{"token":{"type":"string"},"expiresIn":{"type":"integer","format":"int64"}}},"PageStudyGroupResponse":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/StudyGroupResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"empty":{"type":"boolean"},"unsorted":{"type":"boolean"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}